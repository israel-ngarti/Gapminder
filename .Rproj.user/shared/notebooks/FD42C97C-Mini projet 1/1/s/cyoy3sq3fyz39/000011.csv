"0","#2007"
"0","# Calculer les coupures basées sur les quantiles"
"0","coupures <- quantile(gapminder2007$gdpPercap, probs = c(0, 0.2, 0.4, 0.6, 0.8, 1))"
"0",""
"0","# Créer une variable catégorielle pour le niveau de revenu"
"0","gapminder2007$nivPIB <- cut("
"0","  gapminder2007$gdpPercap,"
"0","  breaks = coupures,"
"0","  labels = c(""Très Faible"", ""Faible"", ""Moyen"", ""Fort"", ""Très Fort""),"
"0","  include.lowest = TRUE"
"0",")"
"0",""
"0","# Calculer l'espérance de vie moyenne pour chaque catégorie"
"0","lifeExp_by_income_2007 <- gapminder2007 %>%"
"0","  group_by(nivPIB) %>%"
"0","  summarise(mean_lifeExp = mean(lifeExp))"
"0",""
"0","# Convertir 'mean_lifeExp' en chiffres avec un chiffre après la virgule (optionnel)"
"0","lifeExp_by_income_2007 <- lifeExp_by_income_2007 %>%"
"0","  mutate(mean_lifeExp = round(mean_lifeExp, 1))"
"0",""
"0","# Graphique : Diagramme en barres avec les moyennes affichées"
"0","ggplot(lifeExp_by_income_2007, aes(x = nivPIB, y = mean_lifeExp, fill = nivPIB)) +"
"0","  geom_bar(stat = ""identity"") +"
"0","  geom_text("
"0","    aes(label = mean_lifeExp),"
"0","    vjust = -0.5,   # Position verticale des étiquettes au-dessus des barres"
"0","    size = 4        # Taille du texte des étiquettes"
"0","  ) +"
"0","  labs("
"0","    title = ""Espérance de vie moyenne par catégorie de revenu en 2007"","
"0","    x = ""Catégorie de revenu"","
"0","    y = ""Espérance de vie moyenne (années)"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme(legend.position = ""none"")"
"0",""
